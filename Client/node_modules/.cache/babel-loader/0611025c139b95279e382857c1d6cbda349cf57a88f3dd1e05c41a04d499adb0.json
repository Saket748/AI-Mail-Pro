{"ast":null,"code":"var _jsxFileName = \"/home/saket/Downloads/pdf-front/my-app/src/ConfirmPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ConfirmPage() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [listData, setListData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const handleFileChange = e => setFile(e.target.files[0]);\n  const handleFetchList = async () => {\n    if (!file) return alert(\"Please select a CSV file.\");\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    try {\n      setLoading(true);\n      const response = await axios.post(\"http://localhost:8080/resume/csv-upload\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n\n      // Expecting backend returns JSON list of {name, email}\n      setListData(response.data);\n    } catch (error) {\n      console.error(\"Error fetching list:\", error);\n      alert(\"Failed to fetch list from backend.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleNext = () => {\n    navigate(\"/send-email\", {\n      state: {\n        csvList: listData\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      padding: \"20px\",\n      gap: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Upload CSV File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".csv\",\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleFetchList,\n        disabled: loading,\n        children: loading ? \"Processing...\" : \"Load List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNext,\n        disabled: listData.length === 0,\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 2,\n        border: \"1px solid #ddd\",\n        padding: \"15px\",\n        borderRadius: \"5px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"List Preview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this), !loading && listData.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No list loaded yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 47\n      }, this), !loading && listData.length > 0 && /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: \"100%\",\n          borderCollapse: \"collapse\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                border: \"1px solid #ccc\",\n                padding: \"8px\"\n              },\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                border: \"1px solid #ccc\",\n                padding: \"8px\"\n              },\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: listData.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                border: \"1px solid #ccc\",\n                padding: \"8px\"\n              },\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                border: \"1px solid #ccc\",\n                padding: \"8px\"\n              },\n              children: item.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(ConfirmPage, \"5hxyxE+n0TkqRPvmzWYrYPzZ5Hg=\", false, function () {\n  return [useNavigate];\n});\n_c = ConfirmPage;\nexport default ConfirmPage;\nvar _c;\n$RefreshReg$(_c, \"ConfirmPage\");","map":{"version":3,"names":["React","useState","axios","useNavigate","jsxDEV","_jsxDEV","ConfirmPage","_s","file","setFile","listData","setListData","loading","setLoading","navigate","handleFileChange","e","target","files","handleFetchList","alert","formData","FormData","append","response","post","headers","data","error","console","handleNext","state","csvList","style","display","padding","gap","children","flex","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","onClick","disabled","length","border","borderRadius","width","borderCollapse","map","item","index","name","email","_c","$RefreshReg$"],"sources":["/home/saket/Downloads/pdf-front/my-app/src/ConfirmPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction ConfirmPage() {\n  const [file, setFile] = useState(null);\n  const [listData, setListData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleFileChange = (e) => setFile(e.target.files[0]);\n\n  const handleFetchList = async () => {\n    if (!file) return alert(\"Please select a CSV file.\");\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    try {\n      setLoading(true);\n\n      const response = await axios.post(\"http://localhost:8080/resume/csv-upload\", formData, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n      });\n\n      // Expecting backend returns JSON list of {name, email}\n      setListData(response.data);\n\n    } catch (error) {\n      console.error(\"Error fetching list:\", error);\n      alert(\"Failed to fetch list from backend.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleNext = () => {\n  navigate(\"/send-email\", { state: { csvList: listData } });\n  };\n\n  return (\n    <div style={{ display: \"flex\", padding: \"20px\", gap: \"20px\" }}>\n      {/* Left side: CSV Upload */}\n      <div style={{ flex: 1 }}>\n        <h2>Upload CSV File</h2>\n        <input type=\"file\" accept=\".csv\" onChange={handleFileChange} />\n        <br /><br />\n        <button onClick={handleFetchList} disabled={loading}>\n          {loading ? \"Processing...\" : \"Load List\"}\n        </button>\n        <br /><br />\n        <button onClick={handleNext} disabled={listData.length === 0}>\n          Next\n        </button>\n      </div>\n\n      {/* Right side: List Preview */}\n      <div style={{ flex: 2, border: \"1px solid #ddd\", padding: \"15px\", borderRadius: \"5px\" }}>\n        <h3>List Preview</h3>\n        {loading && <p>Loading...</p>}\n        {!loading && listData.length === 0 && <p>No list loaded yet.</p>}\n        {!loading && listData.length > 0 && (\n          <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n            <thead>\n              <tr>\n                <th style={{ border: \"1px solid #ccc\", padding: \"8px\" }}>Name</th>\n                <th style={{ border: \"1px solid #ccc\", padding: \"8px\" }}>Email</th>\n              </tr>\n            </thead>\n            <tbody>\n              {listData.map((item, index) => (\n                <tr key={index}>\n                  <td style={{ border: \"1px solid #ccc\", padding: \"8px\" }}>{item.name}</td>\n                  <td style={{ border: \"1px solid #ccc\", padding: \"8px\" }}>{item.email}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default ConfirmPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}